### 先用类比说清楚

把 *“角色”* 想像成一把把钥匙：

* **钥匙太多** → 前台抽屉里乱糟糟，员工一着急就拿错钥匙，甚至还得花时间配新钥匙
* **钥匙太少** → 大家共用万能钥匙，一旦丢失就全楼失守

理想做法是：**按楼层配钥匙，再用门禁卡记录进出**。也就是——**先分“楼层”大类，再用权限粒度（门禁卡）细分**。

---

## 专业拆解：当前角色体系是否过细？

文档里目前一共列出 **9 个核心角色**（Super Admin, Platform Admin, Education Manager, Instructor, Operations, SEO Specialist, Customer Service, Premium Member, Free User, Guest）、。
这套设计 **功能覆盖全面**，但在早期 MVP 阶段存在三点隐患：

| 隐患       | 影响               | 典型表现                                    |
| -------- | ---------------- | --------------------------------------- |
| **维护成本** | 角色越多，管理员越容易分配错误  | 新同事入职要勾 5-6 个角色；离职忘记回收                  |
| **权限重叠** | 多个角色权限颗粒度相似      | *Operations* 与 *SEO Specialist* 均能改营销内容 |
| **功能耦合** | 新模块上线要同步更新多张角色矩阵 | 课程直播功能需修改 ≥5 处权限判断                      |

---

## 建议的“2 层 6 角色”精简方案

> **层次一：系统/后台**
>
> * **Super Admin**（保留）
> * **Staff Admin**（合并 *Platform Admin* & *Education Manager*，再用对象级权限区分业务线）
> * **Staff Operator**（合并 *Operations / SEO Specialist / Customer Service*，用动作级或 ABAC 条件细分）

> **层次二：前台/学员**
>
> * **Premium Member**
> * **Registered User**（原 *Free User*）
> * **Guest**

### 细分靠「策略」而非「角色」

| 机制                              | 适用               | 实例                               |
| ------------------------------- | ---------------- | -------------------------------- |
| **对象级权限（django-guardian）**      | 讲师只编辑自己上传的课程     | `course.author == request.user`  |
| **条件策略（django-rules / Casbin）** | SEO 专员仅能改 SEO 模块 | `if user.has_perm("seo.manage")` |
| **临时权限 / 审批流**                  | 运营临时拉活动大 banner  | 发起申请 → Super Admin 审批 → 自动过期     |

---

## 过渡 & 迭代路线

1. **MVP 阶段（1-2 周）**

   * 直接上 “2 层 6 角色”
   * 后端只做 `IsAuthenticated` + `is_staff` + `is_superuser` 三种快速判断
2. **验证阶段（3-6 周）**

   * 引入 `django-guardian` 对象级权限
   * 为 *Staff Operator* 增加基于动作的细粒度策略
3. **扩展阶段（上线后）**

   * 根据业务增长，把频繁冲突的权限拆出子角色；反之则合并
   * 接入审计日志 + 报警（Celery + Redis 缓存）

> 🔑 **经验法则**：**先少后多**，只为“真实冲突”新增角色，而不是预设所有可能。

---

## 总结

* **9 角色设计**在功能维度完整，但在迭代早期会带来 **管理开销 & 重叠风险**。
* 推荐 **“2 层 6 角色”** 起步 —— 用对象级/策略级权限来补位，而不是无限拆角色。
* 随业务演进，再 **按需细分**；把“角色”当楼层钥匙，“权限策略”当门禁卡。

---

## In short（中文高层摘要）

精简到「后台 3 角色 + 前台 3 角色」，用对象级权限和策略条件替代过细的角色拆分，先上线再按实际冲突迭代扩展。
